{"version":3,"file":"RunnerStorage.js","names":["_Array","require","Context","_interopRequireWildcard","Effect","Layer","MutableHashMap","MachineId","_Runner","_ShardId","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","RunnerStorage","Tag","exports","makeEncoded","encoded","of","getRunners","gen","runners","results","length","runner","healthy","push","Runner","decodeSync","register","map","encodeRunnerAddress","address","encodeSync","make","unregister","setRunnerHealth","acquire","shardIds","arr","Array","from","id","toString","isNonEmptyArray","succeed","pipe","shards","ShardId","fromString","refresh","release","shardId","releaseAll","makeMemory","empty","acquired","sync","values","remove","void","_address","layerMemory","effect","runnerAddress","host","port"],"sources":["../../src/RunnerStorage.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}