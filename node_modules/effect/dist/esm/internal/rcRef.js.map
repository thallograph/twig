{"version":3,"file":"rcRef.js","names":["Context","Duration","Effectable","identity","Readable","coreEffect","core","circular","fiberRuntime","TypeId","Symbol","for","stateEmpty","_tag","stateClosed","variance","_A","_E","RcRefImpl","Class","acquire","context","scope","idleTimeToLive","state","semaphore","unsafeMakeSemaphore","constructor","get","commit","make","options","withFiberRuntime","fiber","getFiberRef","currentContext","scopeTag","ref","decode","undefined","as","addFinalizer","withPermits","suspend","close","scopeClose","exitVoid","void","self_","self","isInfinite","isFinite","uninterruptibleMask","restore","interrupt","refCount","interruptFiber","succeed","scopeMake","pipe","bindTo","bind","fiberRefLocally","add","map","value","tap","sleep","interruptible","zipRight","ensuring","sync","forkIn","invalidate","uninterruptible"],"sources":["../../../src/internal/rcRef.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}