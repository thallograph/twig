{"version":3,"file":"RunnerStorage.js","names":["isNonEmptyArray","Context","Effect","Layer","MutableHashMap","MachineId","Runner","ShardId","RunnerStorage","Tag","makeEncoded","encoded","of","getRunners","gen","runners","results","i","length","runner","healthy","push","decodeSync","register","map","encodeRunnerAddress","address","encodeSync","make","unregister","setRunnerHealth","acquire","shardIds","arr","Array","from","id","toString","succeed","pipe","shards","fromString","refresh","release","shardId","releaseAll","makeMemory","empty","acquired","sync","values","set","remove","void","_address","layerMemory","effect","runnerAddress","host","port"],"sources":["../../src/RunnerStorage.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}